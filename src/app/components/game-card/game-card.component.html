<mat-card class="game-card">
  <div class="image-wrapper">
    <img mat-card-image [src]="defaultImage()" alt="Game cover" class="game-image" loading="lazy" />

    <button mat-icon-button color="primary" class="options-button" (click)="toggleOptions()">
      <mat-icon>more_vert</mat-icon>
    </button>

    @if (showOptions()) {
      <div class="options-menu">
        <button mat-icon-button color="primary" (click)="editGame()">
          <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button color="warn" (click)="deleteGame()">
          <mat-icon>close</mat-icon>
        </button>
      </div>
    }

    @if (game().description) {
      <button class="info-button" mat-icon-button [matTooltip]="game().description" aria-label="More info">
        <mat-icon>info</mat-icon>
      </button>
    }
  </div>

  <div class="card-header">
    <div class="title-row">
      <span class="game-title">{{ game().title }}</span>
      <img class="platinum-icon" [src]="platinumIcon()" alt="Platinum status" />
    </div>

    <mat-chip class="meta-chip" color="primary"> {{ game().platform }} - {{ game().condition }} </mat-chip>
  </div>

  <mat-card-content>
    <p><strong>Price:</strong> {{ game().price | currency: 'EUR' }}</p>
    <p><strong>Store:</strong> {{ game().store }}</p>
  </mat-card-content>
</mat-card>
